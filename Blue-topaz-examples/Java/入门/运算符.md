---
UID: 20230214170030 
aliases: 
tags: 
source: 
cssclass: 
created: 2023-02-14
---

# 运算符

## 运算符 operator
Java 语言支持如下运算符：
* 算术运算符：+，-，* ，/，%，++，--
* 赋值运算符：=
* 关系运算符：<，>，>=，<=，== ，!=instanceof
* 逻辑运算符：&&，||，!
* 位运算符：&，|，^，~，>>，<<，>>>
* 条件运算符：?，:
* 扩展赋值运算符：+=，-=， * = ，/=
## 二元运算符
两个操作数
### 整数运算
如果两个操作数有一个为Long，则结果也为long
没有long时，结果为int。即使操作数全为short，byte，结果也是int
### 浮点运算
如果两个操作数有一个为double，则结果为double
如果两个操作数都是float，则结果为float
### 关系运算符
返回布尔值！
## 取模运算
取余
其操作数可以为浮点数，一般使用整数。
⚠️要点：
负数%负数=负数
负数%正数=负数
正数%负数=正数
## 一元运算符
**自增（++）自减（--）运算符**是一种特殊的算数运算符，在算术运算符中需要两个操作数来进行运算，而自增自减运算符是一个操作数，分为前缀和后缀两种。
```Java
public static void main(String[] args) {
	int a=2;
	int b=a++;// 执行完b=2；先给b赋值，再自增
	int c=++a;// 执行完c=4；先自增，再给b赋值
}
```
⚠️注意：java重的乘幂处理
```Java
public static void main(String[] args) {
	double b=Math.pow(3,2);
}
```
## 逻辑运算符
逻辑与：&&和&，逻辑或：||和|，逻辑非：!。
## 位运算符
移位运算符是最基本的运算符之一，几乎每种编程语言都包含这一运算符。移位操作中，被操作的数据被视为二进制数，移位就是将其向左或向右移动若干位的运算。
移位运算符在各种框架以及 JDK 自身的源码中使用还是挺广泛的，`HashMap`（JDK1.8） 中的 `hash` 方法的源码就用到了移位运算符：
```Java
static final int hash(Object key) {
    int h;
    // key.hashCode()：返回散列值也就是hashcode
    // ^ ：按位异或
    // >>>:无符号右移，忽略符号位，空位都以0补齐
    return (key == null) ? 0 : (h = key.hashCode()) ^ (h >>> 16);
  }
```
在 Java 代码里使用 `<<` 、 `>>` 和`>>>`转换成的指令码运行起来会更高效些。
⚠️注意：
由于 `double`，`float` 在二进制中的表现比较特殊，因此不能来进行移位操作。
移位操作符实际上支持的类型只有`int`和`long`，编译器在对`short`、`byte`、`char`类型进行移位前，都会将其转换为`int`类型再操作。
-   `<<` :左移运算符，向左移若干位，高位丢弃，低位补零。`x << 1`,相当于 x 乘以 2(不溢出的情况下)。
-   `>>` :带符号右移，向右移若干位，高位补符号位，低位丢弃。正数高位补 0,负数高位补 1。`x >> 1`,相当于 x 除以 2。
-  `>>>` :无符号右移，忽略符号位，空位都以 0 补齐。
**如果移位的位数超过数值所占有的位数会怎样？**
当 int 类型左移/右移位数大于等于 32 位操作时，会先求余（%）后再进行左移/右移操作。
也就是说左移/右移 32 位相当于不进行移位操作（32%32=0），左移/右移 42 位相当于左移/右移 10 位（42%32=10）。
当 long 类型进行左移/右移操作时，由于 long 对应的二进制是 64 位，因此求余操作的基数也变成了 64。